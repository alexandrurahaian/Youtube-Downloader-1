<Page x:Class="Youtube_Downloader.Pages.Playlist"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:Youtube_Downloader.Pages"
      mc:Ignorable="d" 
      d:DesignHeight="342" d:DesignWidth="580"
      Title="Playlist"
      Background="{DynamicResource BackgroundBrush}"
      >
    <Viewbox Stretch="UniformToFill">
        <Grid Width="580" Height="342">
            <Button x:Name="next_btn" BorderThickness="0" Background="{DynamicResource ButtonBackgroundBrush}" Foreground="{DynamicResource ButtonForegroundBrush}" FontFamily="Arial Black" FontSize="12" Click="next_btn_Click" IsEnabled="False" Content="Next" Margin="10,40,380,276"/>
            <Grid x:Name="first_grid" Width="580" Height="342">
                <StackPanel x:Name="playlist_url_panel" Orientation="Horizontal" Margin="0,10,0,311">
                    <TextBlock FontFamily="Arial Black" Foreground="{DynamicResource ForegroundBrush}" FontSize="15">Playlist URL:</TextBlock>
                    <TextBox x:Name="playlist_url_box" TextChanged="playlist_url_box_TextChanged" Foreground="{DynamicResource ForegroundBrush}" BorderBrush="{DynamicResource ForegroundBrush}" BorderThickness="1" Background="{DynamicResource BackgroundBrush}" FontFamily="Arial" FontSize="12.5" Margin="10, 0" Width="462"/>
                </StackPanel>
                <Button x:Name="load_playlist_video_btn" BorderThickness="0" Background="{DynamicResource ButtonBackgroundBrush}" Foreground="{DynamicResource ButtonForegroundBrush}" FontFamily="Arial Black" FontSize="12" Click="load_playlist_video_btn_Click" IsEnabled="False" Content="Load playlist" Margin="205,40,185,276"/>
                <Button x:Name="unload_playlist_video_btn" BorderThickness="0" Background="{DynamicResource ButtonBackgroundBrush}" Foreground="{DynamicResource ButtonForegroundBrush}" FontFamily="Arial Black" FontSize="12" Click="unload_playlist_video_btn_Click" IsEnabled="False" Content="Unload playlist" Margin="400,40,10,276"/>
                <StackPanel x:Name="content_bar" Orientation="Horizontal" Margin="10,71,10,247">
                    <TextBlock FontFamily="Arial" FontSize="14" Foreground="{DynamicResource ForegroundBrush}">Search:</TextBlock>
                    <TextBox x:Name="search_box" FontFamily="Arial" Margin="5, 0, 2, 0" FontSize="11" Background="{DynamicResource BackgroundBrush}" BorderBrush="{DynamicResource ForegroundBrush}" BorderThickness="1" Foreground="{DynamicResource ForegroundBrush}" Width="330" Height="20"/>
                    <Button x:Name="search_btn" Margin="0, 0" Background="{DynamicResource ButtonBackgroundBrush}" Foreground="{DynamicResource ButtonForegroundBrush}" FontFamily="Arial Black" FontSize="8" BorderThickness="0" Content="Search" Click="search_btn_Click" Width="56"/>
                    <StackPanel Orientation="Horizontal">
                        <StackPanel Orientation="Vertical">
                            <Button x:Name="select_all_btn" Margin="0, 0, 0, 0" Background="{DynamicResource ButtonBackgroundBrush}" Foreground="{DynamicResource ButtonForegroundBrush}" FontFamily="Arial Black" FontSize="8" BorderThickness="0" Content="Select all" Click="select_all_btn_Click" Width="56" Height="12" VerticalAlignment="Top"/>
                            <Button x:Name="select_btn" Margin="0, 0, 0, 0" Background="{DynamicResource ButtonBackgroundBrush}" Foreground="{DynamicResource ButtonForegroundBrush}" FontFamily="Arial Black" FontSize="8" BorderThickness="0" Content="Select" Click="select_btn_Click" Width="56" Height="12" VerticalAlignment="Bottom"/>
                        </StackPanel>
                        <StackPanel Orientation="Vertical">
                            <Button x:Name="deselect_all_btn" Margin="0, 0, 0, 0" Background="{DynamicResource ButtonBackgroundBrush}" Foreground="{DynamicResource ButtonForegroundBrush}" FontFamily="Arial Black" FontSize="7.5" BorderThickness="0" Content="Deselect all" Click="deselect_all_btn_Click" Width="55" Height="12" VerticalAlignment="Top"/>
                            <Button x:Name="deselect_btn" Background="{DynamicResource ButtonBackgroundBrush}" Foreground="{DynamicResource ButtonForegroundBrush}" FontFamily="Arial Black" FontSize="7.5" BorderThickness="0" Content="Deselect" Click="deselect_btn_Click" Width="55" Height="12" VerticalAlignment="Bottom"/>
                        </StackPanel>
                    </StackPanel>
                </StackPanel>
                <ListView x:Name="playlist_content_list" Background="{DynamicResource BackgroundBrush}" Foreground="{DynamicResource ForegroundBrush}" BorderThickness="0" Margin="10,100,10,10" ItemsSource="{Binding PlaylistVideos}">
                    <ListView.Resources>
                        <Style TargetType="GridViewColumnHeader">
                            <Setter Property="Height" Value="20"/>
                            <Setter Property="VerticalContentAlignment" Value="Top"/>
                            <Setter Property="Foreground" Value="{DynamicResource ForegroundBrush}"/>
                            <Setter Property="Background" Value="{DynamicResource BackgroundBrush}"/>
                        </Style>
                    </ListView.Resources>
                    <ListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <Setter Property="Height" Value="20"/>
                            <Setter Property="Foreground" Value="{DynamicResource ForegroundBrush}"/>
                            <Setter Property="Background" Value="{DynamicResource BackgroundBrush}"/>
                        </Style>
                    </ListView.ItemContainerStyle>
                    <ListView.View>
                        <GridView AllowsColumnReorder="False">
                            <GridViewColumn DisplayMemberBinding="{Binding Index}" Header="Nr." Width="30"/>
                            <GridViewColumn DisplayMemberBinding="{Binding VideoName}" Header="Video Name" Width="150"/>
                            <GridViewColumn DisplayMemberBinding="{Binding VideoURL}" Header="URL" Width="326"/>
                            <GridViewColumn DisplayMemberBinding="{Binding Selected}" Header="Selected"/>
                        </GridView>
                    </ListView.View>
                </ListView>
            </Grid>
            <Grid x:Name="options_grid" Visibility="Hidden" Margin="10,68,10,37">
                <StackPanel>
                    <TextBlock FontFamily="Arial Black" FontSize="20">Download options</TextBlock>
                    <StackPanel x:Name="file_panel" Orientation="Horizontal" Margin="0, 15, 0, 0" Height="18">
                        <TextBlock FontFamily="Arial Black" Foreground="{DynamicResource ForegroundBrush}" FontSize="12.5">File format:</TextBlock>
                        <ComboBox x:Name="file_format_combo" Margin="10, 0" FontFamily="Arial" SelectedIndex="0" FontSize="10.5" SelectionChanged="file_format_combo_SelectionChanged" Width="55"/>
                    </StackPanel>
                    <StackPanel x:Name="quality_panel" Orientation="Horizontal" Height="18">
                        <TextBlock FontFamily="Arial Black" Foreground="{DynamicResource ForegroundBrush}" FontSize="12.5">Quality:</TextBlock>
                        <ComboBox x:Name="quality_combo"  Margin="10, 0" FontFamily="Arial" SelectedIndex="0" FontSize="10.5" Width="119" SelectionChanged="quality_combo_SelectionChanged"/>
                    </StackPanel>
                    <StackPanel x:Name="audio_panel" Orientation="Horizontal" Height="18">
                        <TextBlock FontFamily="Arial Black" Foreground="{DynamicResource ForegroundBrush}" Margin="0, 0, 10, 0" FontSize="12.5">Download:</TextBlock>
                        <RadioButton x:Name="audio_only_radio" Foreground="{DynamicResource ForegroundBrush}" FontFamily="Arial" Content="Audio only" IsChecked="False" Click="audio_only_radio_Click"/>
                        <RadioButton Margin="15, 0" Foreground="{DynamicResource ForegroundBrush}" x:Name="video_only_radio" FontFamily="Arial" Content="Video only" IsChecked="False" Click="video_only_radio_Click"/>
                        <RadioButton x:Name="video_audio_radio" Foreground="{DynamicResource ForegroundBrush}" FontFamily="Arial" Content="Video &amp; audio" IsChecked="True" Click="video_audio_radio_Click"/>
                    </StackPanel>
                    <StackPanel x:Name="location_panel" Orientation="Horizontal" Height="18">
                        <TextBlock FontFamily="Arial Black" Foreground="{DynamicResource ForegroundBrush}" FontSize="12.5">Download location:</TextBlock>
                        <Button x:Name="download_loc_selector" Margin="10, 0, 5, 0" Content="Choose folder" Background="{DynamicResource ButtonBackgroundBrush}" BorderThickness="0" FontFamily="Arial Black" FontSize="8" Foreground="{DynamicResource ButtonForegroundBrush}" Click="download_loc_selector_Click" Width="81"/>
                        <TextBox x:Name="download_loc_path_box" LostFocus="download_loc_path_box_LostFocus" TextWrapping="Wrap" BorderBrush="{DynamicResource ForegroundBrush}" FontFamily="Arial" FontSize="10" Width="329" Height="16"/>
                    </StackPanel>
                    <Button x:Name="download_btn" Content="Download" IsEnabled="True" Background="{DynamicResource ButtonBackgroundBrush}" BorderThickness="0" Foreground="{DynamicResource ButtonForegroundBrush}" Click="download_btn_Click" Height="24"/>
                    <StackPanel x:Name="progress_panel" Orientation="Vertical" Visibility="Collapsed">
                        <ProgressBar x:Name="download_progress_bar" Value="0" Maximum="100" Minimum="0" Height="13" Visibility="Visible"/>
                        <TextBlock x:Name="progress_details_display" FontFamily="Arial Black" FontSize="10" TextWrapping="Wrap" Height="24">Starting yt-dlp.exe...</TextBlock>
                    </StackPanel>
                    <StackPanel x:Name="download_finish_panel" Orientation="Horizontal" Visibility="Collapsed">
                        <TextBlock x:Name="download_finish_dispaly" Foreground="{DynamicResource ForegroundBrush}" FontFamily="Arial Black" Visibility="Visible">Download has finished!</TextBlock>
                        <Button x:Name="view_finished_download_btn" Foreground="{DynamicResource ButtonForegroundBrush}" Margin="5, 0" FontSize="8.5" FontFamily="Arial Black" Background="{DynamicResource ButtonBackgroundBrush}" Content="View folder" BorderThickness="0" Click="view_finished_download_btn_Click" Width="87"/>
                    </StackPanel>
                    <TextBlock x:Name="download_error_display" Foreground="Red" FontFamily="Arial Black" Visibility="Collapsed">Download failed</TextBlock>
                </StackPanel>
            </Grid>
        </Grid>
    </Viewbox>
</Page>
