<Page x:Class="Youtube_Downloader.Pages.Video"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:Youtube_Downloader.Pages"
      mc:Ignorable="d" 
      d:DesignHeight="342" d:DesignWidth="580"
      Title="Video"
      Background="{DynamicResource BackgroundBrush}">
    <Viewbox Stretch="UniformToFill">
        <Grid Width="580" Height="342">
            <StackPanel Orientation="Horizontal" x:Name="video_url_panel" Margin="0,0,0,318">
                <TextBlock FontFamily="Arial Black" FontSize="20" Foreground="{DynamicResource ForegroundBrush}">Video URL:</TextBlock>
                <TextBox Margin="15, 0" x:Name="url_box" Background="{DynamicResource BackgroundBrush}" TextChanged="url_box_TextChanged" TextWrapping="Wrap" FontFamily="Arial" FontSize="15" BorderBrush="{DynamicResource ForegroundBrush}" Foreground="{DynamicResource ForegroundBrush}" Width="443" Height="20"/>
            </StackPanel>
            <StackPanel x:Name="download_mode_panel" Orientation="Horizontal" Margin="0,29,0,295">
                <TextBlock FontFamily="Arial Black" FontSize="15">Download mode:</TextBlock>
                <RadioButton Margin="10, 0" Foreground="{DynamicResource ForegroundBrush}" x:Name="single_radio_btn" FontFamily="Arial" FontSize="12.5" IsChecked="True" Click="single_radio_btn_Click">Single</RadioButton>
                <RadioButton x:Name="batch_radio_btn" Foreground="{DynamicResource ForegroundBrush}" FontFamily="Arial" FontSize="12.5" IsChecked="False" Click="batch_radio_btn_Click">Batch</RadioButton>
            </StackPanel>
            <Grid x:Name="batch_grid" Margin="10,47,10,58" Visibility="Hidden">
                <Button x:Name="add_video_btn" FontFamily="Arial" IsEnabled="False" FontSize="10" BorderThickness="0" Foreground="{DynamicResource ButtonForegroundBrush}" Background="{DynamicResource ButtonBackgroundBrush}" Content="Add video" Click="add_video_btn_Click" Margin="3,4,410,213"/>
                <Button x:Name="remove_vide0_btn" FontFamily="Arial" IsEnabled="False" FontSize="10" BorderThickness="0" Foreground="{DynamicResource ButtonForegroundBrush}" Background="{DynamicResource ButtonBackgroundBrush}" Content="Remove selected video" Click="remove_vide0_btn_Click" Margin="155,4,258,213"/>
                <StackPanel x:Name="search_panel" Orientation="Horizontal" Margin="0,24,0,197">
                    <TextBlock FontFamily="Arial Black" Foreground="{DynamicResource ForegroundBrush}" FontSize="12.5">Search: </TextBlock>
                    <TextBox FontFamily="Arial" x:Name="search_box" Margin="10, 0, 2.5, 0" TextChanged="search_box_TextChanged" FontSize="10" BorderBrush="{DynamicResource ForegroundBrush}" TextWrapping="Wrap" Width="278" Height="14"/>
                    <Button x:Name="select_selected_btn" FontFamily="Arial" FontSize="8.5" Click="select_selected_btn_Click" Foreground="{DynamicResource ButtonForegroundBrush}" Background="{DynamicResource ButtonBackgroundBrush}" BorderThickness="0" Content="Select" Width="52" Height="14"/>
                    <Button x:Name="deselect_selected_btn" FontFamily="Arial" Margin="2, 0" FontSize="8.5" Click="deselect_selected_btn_Click" Foreground="{DynamicResource ButtonForegroundBrush}" Background="{DynamicResource ButtonBackgroundBrush}" BorderThickness="0" Content="Deselect" Width="52" Height="14"/>
                    <Button x:Name="select_all_btn" FontFamily="Arial" FontSize="8.5" Margin="2, 0" Click="select_all_btn_Click" Foreground="{DynamicResource ButtonForegroundBrush}" Background="{DynamicResource ButtonBackgroundBrush}" BorderThickness="0" Content="Select all" Width="52" Height="14"/>
                    <Button x:Name="deselect_all_btn" FontFamily="Arial" FontSize="8.5" Margin="2, 0" Click="deselect_all_btn_Click" Foreground="{DynamicResource ButtonForegroundBrush}" Background="{DynamicResource ButtonBackgroundBrush}" BorderThickness="0" Content="Deselect all" Width="52" Height="14"/>
                </StackPanel>
                <ListView x:Name="batch_video_list" Background="{DynamicResource BackgroundBrush}" BorderThickness="0" Foreground="{DynamicResource ForegroundBrush}" ItemsSource="{Binding BatchVideos}" Margin="0,45,0,0">
                    <ListView.Resources>
                        <Style TargetType="GridViewColumnHeader">
                            <Setter Property="Height" Value="15"/>
                            <Setter Property="FontSize" Value="10"/>
                            <Setter Property="Foreground" Value="{DynamicResource ForegroundBrush}"/>
                            <Setter Property="Background" Value="{DynamicResource BackgroundBrush}"/>
                            <Setter Property="VerticalContentAlignment" Value="Top"/>
                        </Style>
                    </ListView.Resources>
                    <ListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <Setter Property="Height" Value="15"/>
                            <Setter Property="FontSize" Value="10"/>
                            <Setter Property="VerticalContentAlignment" Value="Top"/>
                            <Setter Property="Foreground" Value="{DynamicResource ForegroundBrush}"/>
                            <Setter Property="Background" Value="{DynamicResource BackgroundBrush}"/>
                        </Style>
                    </ListView.ItemContainerStyle>
                    <ListView.View>
                        <GridView AllowsColumnReorder="False">
                            <GridViewColumn Header="Nr." Width="24" DisplayMemberBinding="{Binding Index}"/>
                            <GridViewColumn Header="Title" Width="250" DisplayMemberBinding="{Binding VideoName}"/>
                            <GridViewColumn Header="URL" Width="230" DisplayMemberBinding="{Binding VideoURL}"/>
                            <GridViewColumn Header="Selected" Width="50" DisplayMemberBinding="{Binding Selected}"/>
                        </GridView>
                    </ListView.View>
                </ListView>
            </Grid>
            <Grid x:Name="options_grid" Visibility="Visible" Margin="10,47,10,58">
                <StackPanel>
                    <TextBlock FontFamily="Arial Black" FontSize="20">Download options</TextBlock>
                    <StackPanel x:Name="file_panel" Orientation="Horizontal" Margin="0, 15, 0, 0" Height="18">
                        <TextBlock FontFamily="Arial Black" Foreground="{DynamicResource ForegroundBrush}" FontSize="12.5">File format: </TextBlock>
                        <ComboBox x:Name="file_format_combo" Margin="10, 0" FontFamily="Arial" SelectedIndex="0" FontSize="10.5" SelectionChanged="file_format_combo_SelectionChanged" Width="55"/>
                    </StackPanel>
                    <StackPanel x:Name="quality_panel" Orientation="Horizontal" Height="18">
                        <TextBlock FontFamily="Arial Black" Foreground="{DynamicResource ForegroundBrush}" FontSize="12.5">Quality:</TextBlock>
                        <ComboBox x:Name="quality_combo"  Margin="10, 0" FontFamily="Arial" SelectedIndex="0" FontSize="10.5" Width="119" SelectionChanged="quality_combo_SelectionChanged"/>
                    </StackPanel>
                    <StackPanel x:Name="audio_panel" Orientation="Horizontal" Height="18">
                        <TextBlock FontFamily="Arial Black" Foreground="{DynamicResource ForegroundBrush}" Margin="0, 0, 10, 0" FontSize="12.5">Download:</TextBlock>
                        <RadioButton x:Name="audio_only_radio" Foreground="{DynamicResource ForegroundBrush}" FontFamily="Arial" Content="Audio only" IsChecked="False" Click="audio_only_radio_Click"/>
                        <RadioButton Margin="15, 0" Foreground="{DynamicResource ForegroundBrush}" x:Name="video_only_radio" FontFamily="Arial" Content="Video only" IsChecked="False" Click="video_only_radio_Click"/>
                        <RadioButton x:Name="video_audio_radio" Foreground="{DynamicResource ForegroundBrush}" FontFamily="Arial" Content="Video &amp; audio" IsChecked="True" Click="video_audio_radio_Click"/>
                    </StackPanel>
                    <StackPanel x:Name="location_panel" Orientation="Horizontal" Height="18">
                        <TextBlock FontFamily="Arial Black" Foreground="{DynamicResource ForegroundBrush}" FontSize="12.5">Download location:</TextBlock>
                        <Button x:Name="download_loc_selector" Margin="10, 0, 5, 0" Content="Choose folder" Background="{DynamicResource ButtonBackgroundBrush}" BorderThickness="0" FontFamily="Arial Black" FontSize="8" Foreground="{DynamicResource ButtonForegroundBrush}" Click="download_loc_selector_Click" Width="81"/>
                        <TextBox x:Name="download_loc_path_box" Background="{DynamicResource BackgroundBrush}" Foreground="{DynamicResource ForegroundBrush}" LostFocus="download_loc_path_box_LostFocus" TextWrapping="Wrap" BorderBrush="{DynamicResource ForegroundBrush}" FontFamily="Arial" FontSize="10" Width="329" Height="16"/>
                    </StackPanel>
                    <Button x:Name="download_btn" Content="Download" IsEnabled="False" Background="{DynamicResource ButtonBackgroundBrush}" BorderThickness="0" Foreground="{DynamicResource ButtonForegroundBrush}" Click="download_btn_Click" Height="24"/>
                    <StackPanel x:Name="progress_panel" Orientation="Vertical" Visibility="Collapsed">
                        <ProgressBar x:Name="download_progress_bar" Value="0" Maximum="100" Minimum="0" Height="13" Visibility="Visible"/>
                        <TextBlock x:Name="progress_details_display" FontFamily="Arial Black" FontSize="10" TextWrapping="Wrap" Height="24">Starting yt-dlp.exe...</TextBlock>
                    </StackPanel>
                    <StackPanel x:Name="download_finish_panel" Orientation="Horizontal" Visibility="Collapsed">
                        <TextBlock x:Name="download_finish_dispaly" Foreground="{DynamicResource ForegroundBrush}" FontFamily="Arial Black" Visibility="Visible">Download has finished!</TextBlock>
                        <Button x:Name="view_finished_download_btn" Foreground="{DynamicResource ButtonForegroundBrush}" Margin="5, 0" FontSize="8.5" FontFamily="Arial Black" Background="{DynamicResource ButtonBackgroundBrush}" Content="View folder" BorderThickness="0" Click="view_finished_download_btn_Click" Width="87"/>
                    </StackPanel>
                    <TextBlock x:Name="download_error_display" Foreground="Red" FontFamily="Arial Black" Visibility="Collapsed">Download failed</TextBlock>
                </StackPanel>
            </Grid>
            <StackPanel x:Name="bottom_panel" Visibility="Hidden" Orientation="Horizontal" Margin="10,284,10,31">
                <Button x:Name="previous_btn" Visibility="Visible" IsEnabled="False" Content="Previous" BorderThickness="0" Background="{DynamicResource ButtonBackgroundBrush}" Foreground="{DynamicResource ButtonForegroundBrush}" Click="previous_btn_Click" Height="22" Width="284"/>
                <Button x:Name="next_btn" Content="Next" IsEnabled="False" BorderThickness="0" Background="{DynamicResource ButtonBackgroundBrush}" Foreground="{DynamicResource ButtonForegroundBrush}" Click="next_btn_Click" Height="22" Width="284"/>
            </StackPanel>
        </Grid>
    </Viewbox>
</Page>
